/* ========== Base / Tokens ========== */
:root{
  --page-width:980px;
  --pad-x:16px; --pad-y:12px;
  --line:#e5e7eb; --bg:#f8fafc; --card:#fff;
  --text:#111827; --muted:#6b7280;
  --brand:#4f46e5; --brand-2:#4338ca;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0}
img,video{max-width:100%;height:auto;display:block}
body{min-width:320px;background:var(--bg);color:var(--text);
  font-family:'Noto Sans KR',system-ui,Segoe UI,Roboto,Arial,sans-serif}

/* ========== Common ========== */
.container{max-width:var(--page-width);margin:0 auto;padding:16px}
.card{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:12px}
.btn{padding:8px 12px;border:1px solid var(--line);border-radius:10px;background:#fafafa;cursor:pointer;transition:.15s}
.btn:hover{background:#f3f4f6;transform:translateY(-1px)}
.btn-primary{background:var(--brand);color:#fff;border-color:transparent}
.btn-primary:hover{background:var(--brand-2)}
.mini{color:var(--muted);font-size:13px}
.badge,[data-soi-points]{font-weight:600}
.barwrap{background:#f3f3f3;border-radius:8px;overflow:hidden;height:12px}
.bar{height:100%;background:#7aa6ff}

/* ========== Header (Desktop) ========== */
.main-header{
  position:relative; z-index:1000;
  background:#fff; border-bottom:1px solid var(--line);
  padding:var(--pad-y) var(--pad-x);
  display:flex; align-items:center; gap:10px; flex-wrap:wrap;
}
.main-header .logo{font-weight:800}
.main-header .logo a{display:inline-block;padding:4px 0}
.main-nav{flex:1 1 auto}
.main-nav ul{display:flex;justify-content:center;align-items:center;gap:10px;list-style:none;margin:0;padding:0;flex-wrap:wrap}
.main-nav a{display:inline-block;padding:6px 10px;border-radius:10px;font-size:14px}
.main-nav li.active a,.main-nav a:hover{background:#eef4ff;color:#1f3b8f}
.user-info{margin-left:auto;display:flex;align-items:center;gap:8px;color:#666}
#welcome-message small{font-size:12px;color:#666}
#logout-button{padding:4px 8px;border:1px solid var(--line);border-radius:8px;background:#fafafa;cursor:pointer;font-size:13px}
.mobile-menu-button{display:none;border:1px solid var(--line);border-radius:8px;background:#fff;padding:6px 10px;cursor:pointer}

/* ========== Header (Mobile ≤860px) ========== */
/* 구조: [로고] [햄버거] 1줄 → 드로어 안에 (메뉴 + 포인트 배지) 세로 → 그 아래 user-info 한 줄 */
@media (max-width:860px){
  .main-header{gap:8px}
  .main-nav{display:none}            /* 기본 숨김 */
  .mobile-menu-button{display:inline-block;margin-left:auto}
  .main-nav.is-open{display:block}   /* JS로 토글 */

  /* 드로어(풀스크린) */
  .main-nav.is-open ul{
    position:fixed; inset:0; z-index:1200;
    display:flex; flex-direction:column; align-items:stretch; gap:0;
    padding:72px 16px 24px; background:#fff; overflow-y:auto;
  }
  .main-nav.is-open li a, .main-nav.is-open .badge{
    display:block; width:100%; margin:6px 0; padding:12px 12px;
    border:1px solid var(--line); border-radius:12px; font-size:15px;
  }
  /* 백드롭 */
  body.nav-open{overflow:hidden}
  body.nav-open::before{
    content:""; position:fixed; inset:0; z-index:1100; background:rgba(0,0,0,.35);
  }

  /* 모바일에서 user-info는 드로어 밖, 헤더 아래 우측 정렬 */
  .user-info{order:3;width:100%;justify-content:flex-end;margin-left:0;padding-top:4px}
  #logout-button{font-size:12px}
}

/* ========== Tables / Quiz bits ========== */
table{width:100%;border-collapse:collapse;background:#fff}
th,td{padding:8px;border-bottom:1px solid var(--line);text-align:left;font-size:14px}
th{background:#fafafa}
th button{background:none;border:none;font-weight:700;cursor:pointer}
.progress-bar{background:#f3f3f3;border-radius:8px;overflow:hidden;height:12px}
.progress{height:100%;background:#7aa6ff;transition:width .2s}
.answer-options{display:grid;gap:8px}
.option{padding:10px 12px;border:1px solid var(--line);border-radius:10px;background:#fff;cursor:pointer}
.option:hover{background:#fafafa}
.correct-answer{background:#e8f7e8 !important;border-color:#7dc47d !important}
.incorrect-answer{background:#ffefef !important;border-color:#ef9a9a !important}

/* ========== Toast ========== */
#toast-message{
  position:fixed;left:50%;bottom:24px;transform:translateX(-50%);
  padding:10px 14px;border-radius:10px;background:#333;color:#fff;
  opacity:0;transition:.2s;z-index:1300
}
#toast-message.show{opacity:1}
#toast-message.correct{background:#0a7f2e}
#toast-message.incorrect{background:#b91c1c}

/* ========== Footer ========== */
.main-footer{border-top:1px solid var(--line);color:var(--muted);text-align:center;padding:20px 12px;background:#fff;margin-top:24px}

/* ===== Header: Logo left (large) · user-info small · hamburger right ===== */
:root { --page-width: 980px; --line:#e5e7eb; }

.main-header{
  background:#fff; border-bottom:1px solid var(--line);
  padding:10px 12px;
  display:flex; align-items:center; gap:8px;
  position:relative; z-index:1000;
}

/* 로고: 항상 왼쪽 + 크게 */
.main-header .logo{ order:0; flex:0 0 auto; }
.main-header .logo a{
  display:inline-block; text-decoration:none; color:#111;
  font-weight:800; font-size:22px;      /* ← 제목 크게 */
  letter-spacing:0.2px;
}

/* 내비게이션: 데스크탑에서 가운데 정렬 느낌 유지(선택) */
.main-header .main-nav{ order:1; flex:1 1 auto; }
.main-header .main-nav ul{
  display:flex; justify-content:center; align-items:center; gap:10px;
  list-style:none; margin:0; padding:0; flex-wrap:wrap;
}
.main-header .main-nav a{
  display:inline-block; padding:6px 10px; border-radius:10px; font-size:14px;
}
.main-header .main-nav li.active a, .main-header .main-nav a:hover{
  background:#eef4ff; color:#1f3b8f;
}

/* 로그인 정보: 햄버거 왼쪽, 작고 옅게 */
.main-header .user-info{
  order:2; flex:0 0 auto;
  display:flex; align-items:center; gap:6px; color:#666;
  font-size:12px;                    /* ← 더 작게 */
  white-space:nowrap;
}
#welcome-message small{ font-size:12px; color:#666; }
#logout-button{
  padding:4px 8px; border:1px solid var(--line); border-radius:8px;
  background:#fafafa; font-size:12px; cursor:pointer;
}

/* 햄버거: 항상 맨 오른쪽 끝 */
.mobile-menu-button{
  order:3; flex:0 0 auto;
  border:1px solid var(--line); border-radius:8px; background:#fff;
  padding:6px 10px; cursor:pointer; font-size:20px; line-height:1;
}

/* 데스크탑(>860px): 햄버거 숨김, user-info는 오른쪽 끝 */
@media (min-width:861px){
  .mobile-menu-button{ display:none; }
  .main-header{ gap:12px; }
}

/* 모바일(≤860px): 드로어 메뉴 + 컴팩트 */
@media (max-width:860px){
  .main-header{ gap:8px; }
  .main-header .main-nav{ display:none; }         /* 기본 숨김 */
  .mobile-menu-button{ display:inline-block; }

  /* 드로어(풀스크린) */
  .main-header .main-nav.is-open{ display:block; }
  .main-header .main-nav.is-open ul{
    position:fixed; inset:0; z-index:1200;
    display:flex; flex-direction:column; align-items:stretch; gap:0;
    padding:72px 16px 24px; background:#fff; overflow-y:auto;
  }
  .main-header .main-nav.is-open a,
  .main-header .main-nav.is-open .badge{
    display:block; width:100%; margin:6px 0; padding:12px 12px;
    border:1px solid var(--line); border-radius:12px; font-size:15px;
  }
  body.nav-open{ overflow:hidden; }
  body.nav-open::before{
    content:""; position:fixed; inset:0; z-index:1100; background:rgba(0,0,0,.35);
  }
}
