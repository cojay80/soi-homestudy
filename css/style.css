/* ========== Base / Tokens ========== */
:root{
  --page-width:980px;
  --pad-x:16px; --pad-y:12px;
  --line:#e5e7eb; --bg:#f8fafc; --card:#fff;
  --text:#111827; --muted:#6b7280;
  --brand:#4f46e5; --brand-2:#4338ca;
}

*{box-sizing:border-box}
html,body{margin:0;padding:0}
img,video{max-width:100%;height:auto;display:block}
body{
  min-width:320px;background:var(--bg);color:var(--text);
  font-family:'Noto Sans KR',system-ui,Segoe UI,Roboto,Arial,sans-serif
}

/* ========== Common ========== */
.container{max-width:var(--page-width);margin:0 auto;padding:16px}
.card{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:12px}
.btn{padding:8px 12px;border:1px solid var(--line);border-radius:10px;background:#fafafa;cursor:pointer;transition:.15s}
.btn:hover{background:#f3f4f6;transform:translateY(-1px)}
.btn-primary{background:var(--brand);color:#fff;border-color:transparent}
.btn-primary:hover{background:var(--brand-2)}
.mini{color:var(--muted);font-size:13px}
.badge,[data-soi-points]{font-weight:600}
.barwrap{background:#f3f3f3;border-radius:8px;overflow:hidden;height:12px}
.bar{height:100%;background:#7aa6ff}

/* ========== Header (ê³µí†µ ë ˆì´ì•„ì›ƒ) ========== */
.main-header{
  position:relative; z-index:1000;
  background:#fff; border-bottom:1px solid var(--line);
  padding:var(--pad-y) var(--pad-x);
  display:flex; align-items:center; gap:10px; flex-wrap:wrap;
}
.main-header .logo{font-weight:800}
.main-header .logo a{display:inline-block;padding:4px 0;text-decoration:none;color:#111;font-size:22px;letter-spacing:.2px}
.main-nav{flex:1 1 auto}
.main-nav ul{
  display:flex;justify-content:center;align-items:center;gap:10px;
  list-style:none;margin:0;padding:0;flex-wrap:wrap
}
.main-nav a{
  display:inline-block;padding:6px 10px;border-radius:10px;font-size:14px;text-decoration:none;color:#111
}
.main-nav li.active a,.main-nav a:hover{background:#eef4ff;color:#1f3b8f}

/* ë¡œê·¸ì¸ ì˜ì—­(ìš°ì¸¡, ì‘ê²Œ) */
.user-info{
  margin-left:auto;display:flex;align-items:center;gap:8px;color:#666;white-space:nowrap
}
#welcome-message small{font-size:12px;color:#666}
#logout-button{
  padding:4px 8px;border:1px solid var(--line);border-radius:8px;background:#fafafa;cursor:pointer;font-size:12px;
  position:relative; z-index:1300; /* ë©”ë‰´ì™€ ê²¹ì¹¨ ë°©ì§€ */
}

/* í–„ë²„ê±° ë²„íŠ¼(ë§¨ ì˜¤ë¥¸ìª½ / í•­ìƒ ìµœìƒë‹¨) */
.mobile-menu-button{
  border:1px solid var(--line);border-radius:8px;background:#fff;padding:6px 10px;cursor:pointer;
  font-size:20px;line-height:1; margin-left:8px;
  position:relative; z-index:1400;  /* ğŸ”§ ì˜¤ë²„ë ˆì´ë³´ë‹¤ ìœ„ì—ì„œ í´ë¦­ ë³´ì¥ */
}

/* ========== Header (ëª¨ë°”ì¼ â‰¤860px) ========== */
/* êµ¬ì¡°: [ë¡œê³ ] [ì‘ì€ user-info] [í–„ë²„ê±°] 1ì¤„ â†’ í–„ë²„ê±° ëˆ„ë¥´ë©´ ë“œë¡œì›Œ(í’€ìŠ¤í¬ë¦°) */
@media (max-width:860px){
  .main-header{gap:8px}
  .main-header .logo{order:0}
  .user-info{order:1;font-size:12px}
  .mobile-menu-button{order:2}
  .main-nav{display:none}              /* ê¸°ë³¸ ìˆ¨ê¹€: ë“œë¡œì›Œë¡œë§Œ í‘œì‹œ */
  .main-nav.is-open{display:block}

  /* ë“œë¡œì›Œ(í’€ìŠ¤í¬ë¦°) */
  .main-nav.is-open ul{
    position:fixed; inset:0; z-index:1200;
    display:flex; flex-direction:column; align-items:stretch; gap:0;
    padding:72px 16px 24px; background:#fff; overflow-y:auto;
  }
  .main-nav.is-open li a, .main-nav.is-open .badge{
    display:block; width:100%; margin:6px 0; padding:12px 12px;
    border:1px solid var(--line); border-radius:12px; font-size:15px; background:#fff;
  }

  /* ë°±ë“œë¡­ */
  body.nav-open{overflow:hidden}
  body.nav-open::before{
    content:""; position:fixed; inset:0; z-index:1100; background:rgba(0,0,0,.35);
  }
}

/* ========== Desktop(>860px) ë³´ì • ========== */
@media (min-width:861px){
  .mobile-menu-button{display:none}
}

/* ========== Tables / Quiz bits ========== */
table{width:100%;border-collapse:collapse;background:#fff}
th,td{padding:8px;border-bottom:1px solid var(--line);text-align:left;font-size:14px}
th{background:#fafafa}
th button{background:none;border:none;font-weight:700;cursor:pointer}
.progress-bar{background:#f3f3f3;border-radius:8px;overflow:hidden;height:12px}
.progress{height:100%;background:#7aa6ff;transition:width .2s}
.answer-options{display:grid;gap:8px}
.option{padding:10px 12px;border:1px solid var(--line);border-radius:10px;background:#fff;cursor:pointer}
.option:hover{background:#fafafa}
.correct-answer{background:#e8f7e8 !important;border-color:#7dc47d !important}
.incorrect-answer{background:#ffefef !important;border-color:#ef9a9a !important}

/* ========== Toast ========== */
#toast-message{
  position:fixed;left:50%;bottom:24px;transform:translateX(-50%);
  padding:10px 14px;border-radius:10px;background:#333;color:#fff;
  opacity:0;transition:.2s;z-index:1300
}
#toast-message.show{opacity:1}
#toast-message.correct{background:#0a7f2e}
#toast-message.incorrect{background:#b91c1c}

/* ========== Footer ========== */
.main-footer{border-top:1px solid var(--line);color:var(--muted);text-align:center;padding:20px 12px;background:#fff;margin-top:24px}

/* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.btn {
  display: inline-block;
  padding: 8px 16px;
  border: none;
  border-radius: 6px;
  background: #4CAF50;
  color: #fff;
  font-size: 14px;
  text-decoration: none;   /* âœ… aíƒœê·¸ ë°‘ì¤„ ì œê±° */
  cursor: pointer;
  text-align: center;
  transition: background 0.2s;
}

.btn:hover {
  background: #43a047;
}

.btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* === Mobile drawer click-block fix === */

/* ë°±ë“œë¡­ì€ ì‹œê° íš¨ê³¼ë§Œ â€” í´ë¦­ ë§‰ì§€ ì•ŠìŒ */
body.nav-open::before{
  content:"";
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.35);
  z-index:1100;           /* ë“œë¡œì›Œë³´ë‹¤ ë‚®ê²Œ */
  pointer-events:none;    /* âœ… í´ë¦­/í„°ì¹˜ í†µê³¼ */
}

/* í˜¹ì‹œ í˜ì´ì§€ì— ë”°ë¼ .main-header::before ë¥¼ ì“°ëŠ” ê²½ìš°ë„ ë¬´ë ¥í™” */
.main-header::before{
  pointer-events:none !important;
}

/* ë“œë¡œì›Œ ë©”ë‰´ëŠ” ë°±ë“œë¡­ë³´ë‹¤ ìœ„ */
.main-header .main-nav.is-open ul,
.main-nav.is-open ul{
  position:fixed;
  inset:0;
  padding:72px 16px 24px;
  overflow:auto;
  background:#fff;
  display:flex;
  flex-direction:column;
  gap:6px;
  z-index:1300;           /* âœ… ë°±ë“œë¡­(1100)ë³´ë‹¤ í¼ */
}

/* ë©”ë‰´ í•­ëª©ì€ í™•ì‹¤íˆ í´ë¦­ ê°€ëŠ¥í•˜ê²Œ */
.main-nav.is-open a{
  display:block;
  width:100%;
  padding:14px 12px;
  border:1px solid #e5e5e5;
  border-radius:12px;
  background:#fff;
  font-size:14px;
  pointer-events:auto;    /* âœ… ì•ˆì „í•€ */
}

/* (ì„ íƒ) ë¡œê·¸ì•„ì›ƒ/ë²„íŠ¼ ë“± í—¤ë” ì»¨íŠ¸ë¡¤ì€ ë“œë¡œì›Œë³´ë‹¤ ìœ„ì— ìˆì„ í•„ìš” ì—†ìŒ */
#logout-button,
.mobile-menu-button{
  position:relative;
  z-index:1400;           /* í–„ë²„ê±°ëŠ” í•­ìƒ ìµœìƒë‹¨(ì„ íƒ) */
}

/* ë°ìŠ¤í¬í†±ì—ì„œëŠ” ë“œë¡œì›Œ ê°•ì œ í•´ì œ */
@media (min-width:861px){
  body.nav-open::before{ content:none; }
  .main-nav.is-open ul{ position:static; inset:auto; z-index:auto; }
}

/* --- Mobile drawer: cross-page force open & layering fix --- */
@media (max-width: 860px){
  /* ê¸°ë³¸ì€ ë‹«í˜ */
  .main-header .main-nav{ display:none; }

  /* ì–´ë–¤ í˜ì´ì§€ CSSê°€ .main-header > .main-nav {display:none} í•´ë„ ì´ê±¸ ì´ê¹€ */
  .main-header .main-nav.is-open{ display:block !important; }

  /* ë“œë¡œì›Œ(UL)ë¥¼ ìµœìƒë‹¨ìœ¼ë¡œ */
  .main-header .main-nav.is-open ul{
    position: fixed;
    inset: 0;
    display: flex;
    flex-direction: column;
    gap: 6px;
    padding: 72px 16px 24px;
    background: #fff;
    overflow-y: auto;

    z-index: 1300;           /* ë©”ë‰´ê°€ ìµœìƒë‹¨ */
    pointer-events: auto;
    margin: 0;
    list-style: none;
  }

  .main-header .main-nav.is-open a,
  .main-header .main-nav.is-open .badge{
    display:block; width:100%;
    padding:12px;
    border:1px solid #e5e5e5;
    border-radius:12px;
    background:#fff;
    font-size:14px;
  }

  /* ë°±ë“œë¡­ì€ ë©”ë‰´ ë’¤ìª½ */
  body.nav-open::before{
    content:"";
    position: fixed; inset: 0;
    background: rgba(0,0,0,.35);
    z-index: 1200;           /* ë©”ë‰´(1300)ë³´ë‹¤ ë‚®ê²Œ */
    pointer-events: auto;    /* ë°±ê·¸ë¼ìš´ë“œ íƒ­ìœ¼ë¡œ ë‹«ê¸° ìš©ë„ */
  }
}
